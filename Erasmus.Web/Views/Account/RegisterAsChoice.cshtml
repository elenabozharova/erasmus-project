@using Erasmus.Domain.Domain
@model Erasmus.Domain.Identity.RegisterDto
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    var roles = Enum.GetValues(typeof(Role));
}

<form id="role-form" asp-controller="Account" asp-action="RegisterAsChoice" method="post">
  <input id="chosenRole" type="hidden" name="chosenRole"/>
  <input id="chosenRoleIndex" type="hidden"/>
  @for(var i = 0; i < roles.Length; i++)
  {
        var role = roles.GetValue(i);
        <button class="choose-role-btn" data-index="@i" type="button">@role.ToString()</button>
  }
</form>

<script>
    $(function() {
        console.log('test');
        $('.choose-role-btn').click(function(){
            debugger;
            $("#chosenRoleIndex").val($(this).attr('data-index'));
            var selectedBtn = $("button.choose-role-btn")[$("#chosenRoleIndex").val()];
            $('#chosenRole').val($(selectedBtn).text());
            console.log($('#chosenRole').val());
            $('#role-form').submit();
        });
    });
</script>